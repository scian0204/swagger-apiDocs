{"openapi":"3.0.1","info":{"title":"OpenAPI definition","version":"v0"},"servers":[{"url":"http://localhost:8080","description":"Generated server url"}],"tags":[{"name":"Apart","description":"아파트 API"},{"name":"User","description":"유저 API"},{"name":"Sensor","description":"센서 컨트롤러"},{"name":"WarningMessage","description":"유저별 경고 메시지 컨트롤러"},{"name":"Report","description":"소음신고 API"}],"paths":{"/api/users/modify":{"put":{"tags":["User"],"summary":"유저 정보 수정 API","operationId":"updateUser","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserRequest"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ResponseUser"}}}}}}},"/api/Report/update":{"put":{"tags":["Report"],"operationId":"updateBoard","requestBody":{"content":{"application/json":{"schema":{"type":"object","additionalProperties":{"type":"object"}}}},"required":true},"responses":{"200":{"description":"OK"}}}},"/api/users/signup":{"post":{"tags":["User"],"summary":"회원가입 API","operationId":"signUp","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserRequest"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ResponseUser"}}}}}}},"/api/users/login":{"post":{"tags":["User"],"summary":"로그인 API","operationId":"login","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/LoginRequest"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ResponseString"}}}}}}},"/api/users/delete":{"post":{"tags":["User"],"summary":"회원 탈퇴 API","operationId":"deleteUser","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/LoginRequest"}}},"required":true},"responses":{"default":{"description":"탈퇴 성공: 2<br>탈퇴실패-로그인돼있는 id와 다름: 0<br>탈퇴실패-id는 맞지만 pw틀림: 1","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ResponseObject"}}}}}}},"/api/sensor/report":{"post":{"tags":["Sensor"],"summary":"센서 감지 데이터 등록 API","description":"센서에서 감지된 소음 데이터 DB에 저장 및 해당 유저 경고 메시지 전송 처리","operationId":"reportNoise","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SensorReportRequest"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ResponseObject"}}}}}}},"/api/sensor/regist":{"post":{"tags":["Sensor"],"summary":"센서 등록 API","operationId":"regSensor","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Sensor"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ResponseSensor"}}}}}}},"/api/apart/regist":{"post":{"tags":["Apart"],"summary":"아파트 등록 API","operationId":"registApart","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApartInfoRequest"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ResponseApartInfo"}}}}}}},"/api/apart/registAll":{"post":{"tags":["Apart"],"summary":"아파트별 동, 호 일괄등록 API","description":"아파트 등록 API에서 아파트 등록을 먼저 하고 해당 apartId를 넣을 것","operationId":"registAll","requestBody":{"description":"apartId: 등록할 아파트 id<br>dongs: 동 리스트<br>numOfFloor: 층수<br>numOfHo: 층별 호 수","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApartAllRequest"}}},"required":true},"responses":{"default":{"description":"등록한 해당 아파트 동, 호 리스트","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ResponseListApart"}}}}}}},"/api/Report/write":{"post":{"tags":["Report"],"operationId":"insertBoard","parameters":[{"name":"file","in":"query","required":true,"schema":{"type":"string","format":"binary"}}],"requestBody":{"content":{"application/json":{"schema":{"type":"object","additionalProperties":{"type":"object"}}}},"required":true},"responses":{"200":{"description":"OK"}}}},"/api/Report/delete":{"post":{"tags":["Report"],"operationId":"deleteBoardPost","requestBody":{"content":{"application/json":{"schema":{"type":"object","additionalProperties":{"type":"object"}}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"string"}}}}}}},"/warningMsg/{userId}":{"get":{"tags":["WarningMessage"],"summary":"유저별 경고메시지 목록 API","operationId":"getMessage","parameters":[{"name":"userId","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ResponseListWarningMessage"}}}}}}},"/api/users/logout":{"get":{"tags":["User"],"summary":"로그아웃 API","operationId":"logout","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ResponseString"}}}}}}},"/api/users/isLogin":{"get":{"tags":["User"],"summary":"로그인 여부 확인 API","operationId":"isLogin","responses":{"default":{"description":"로그인 상태: 해당 아이디 세션<br>로그아웃 상태: null","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ResponseString"}}}}}}},"/api/users/isIdDup/{userId}":{"get":{"tags":["User"],"summary":"아이디 중복 체크 API","operationId":"isIdDup","parameters":[{"name":"userId","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ResponseBoolean"}}}}}}},"/api/apart/{apartName}":{"get":{"tags":["Apart"],"summary":"아파트 목록 API","description":"아파트 이름으로 아파트 목록 검색하는 API","operationId":"getApartList","parameters":[{"name":"apartName","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ResponseListApartInfo"}}}}}}},"/api/apart/ho/{apartId}/{dong}":{"get":{"tags":["Apart"],"summary":"아파트 동 별 호 목록 API","description":"아파트ID와 동으로 호 목록 검색하는 API","operationId":"getHoList","parameters":[{"name":"apartId","in":"path","required":true,"schema":{"type":"integer","format":"int32"}},{"name":"dong","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"default":{"description":"아파트 동 별 호 목록 리스트","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ResponseListString"}}}}}}},"/api/apart/dong/{apartId}":{"get":{"tags":["Apart"],"summary":"아파트별 동 목록 API","description":"아파트ID로 동 목록 검색하는 API","operationId":"getDongList","parameters":[{"name":"apartId","in":"path","required":true,"schema":{"type":"integer","format":"int32"}}],"responses":{"default":{"description":"아파트 별 동 목록 리스트","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ResponseListString"}}}}}}},"/api/Report/{idx}":{"get":{"tags":["Report"],"operationId":"viewBoard","parameters":[{"name":"idx","in":"path","required":true,"schema":{"type":"integer","format":"int32"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/Report"}}}}}}},"/api/Report/list":{"get":{"tags":["Report"],"operationId":"getAllBoardsDESC","parameters":[{"name":"pageable","in":"query","required":true,"schema":{"$ref":"#/components/schemas/Pageable"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PageReport"}}}}}}},"/api/Report/list/ASC":{"get":{"tags":["Report"],"operationId":"getAllBoardsASC","parameters":[{"name":"pageable","in":"query","required":true,"schema":{"$ref":"#/components/schemas/Pageable"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PageReport"}}}}}}}},"components":{"schemas":{"UserRequest":{"type":"object","properties":{"userId":{"type":"string"},"userName":{"type":"string"},"password":{"type":"string"},"telNum":{"type":"string"}}},"Error":{"type":"object","properties":{"errorId":{"type":"integer","format":"int32"},"message":{"type":"string"}}},"ResponseUser":{"type":"object","properties":{"error":{"$ref":"#/components/schemas/Error"},"data":{"$ref":"#/components/schemas/User"}}},"User":{"type":"object","properties":{"userId":{"type":"string"},"userName":{"type":"string"},"password":{"type":"string"},"telNum":{"type":"string"},"isAdmin":{"type":"integer","format":"int32"},"regDate":{"type":"string","format":"date-time"}}},"LoginRequest":{"type":"object","properties":{"userId":{"type":"string"},"password":{"type":"string"}}},"ResponseString":{"type":"object","properties":{"error":{"$ref":"#/components/schemas/Error"},"data":{"type":"string"}}},"ResponseObject":{"type":"object","properties":{"error":{"$ref":"#/components/schemas/Error"},"data":{"type":"object"}}},"SensorReportRequest":{"type":"object","properties":{"sensorId":{"type":"string"},"noiseLevel":{"type":"number","format":"double"}}},"Sensor":{"type":"object","properties":{"sensorId":{"type":"string"},"apartIdx":{"type":"integer","format":"int32"},"location":{"type":"string"}}},"ResponseSensor":{"type":"object","properties":{"error":{"$ref":"#/components/schemas/Error"},"data":{"$ref":"#/components/schemas/Sensor"}}},"ApartInfoRequest":{"type":"object","properties":{"apartName":{"type":"string"},"location":{"type":"string"}}},"ApartInfo":{"type":"object","properties":{"apartId":{"type":"integer","format":"int32"},"apartName":{"type":"string"},"location":{"type":"string"}}},"ResponseApartInfo":{"type":"object","properties":{"error":{"$ref":"#/components/schemas/Error"},"data":{"$ref":"#/components/schemas/ApartInfo"}}},"ApartAllRequest":{"type":"object","properties":{"apartId":{"type":"integer","format":"int32"},"dongs":{"type":"array","items":{"type":"string"}},"numOfFloor":{"type":"integer","format":"int32"},"numOfHo":{"type":"integer","format":"int32"}}},"Apart":{"type":"object","properties":{"apartIdx":{"type":"integer","format":"int32"},"apartId":{"type":"integer","format":"int32"},"dong":{"type":"string"},"ho":{"type":"string"}}},"ResponseListApart":{"type":"object","properties":{"error":{"$ref":"#/components/schemas/Error"},"data":{"type":"array","items":{"$ref":"#/components/schemas/Apart"}}}},"ResponseListWarningMessage":{"type":"object","properties":{"error":{"$ref":"#/components/schemas/Error"},"data":{"type":"array","items":{"$ref":"#/components/schemas/WarningMessage"}}}},"WarningMessage":{"type":"object","properties":{"idx":{"type":"integer","format":"int32"},"userId":{"type":"string"},"message":{"type":"string"},"regDate":{"type":"string","format":"date-time"}}},"ResponseBoolean":{"type":"object","properties":{"error":{"$ref":"#/components/schemas/Error"},"data":{"type":"boolean"}}},"ResponseListApartInfo":{"type":"object","properties":{"error":{"$ref":"#/components/schemas/Error"},"data":{"type":"array","items":{"$ref":"#/components/schemas/ApartInfo"}}}},"ResponseListString":{"type":"object","properties":{"error":{"$ref":"#/components/schemas/Error"},"data":{"type":"array","items":{"type":"string"}}}},"Report":{"type":"object","properties":{"idx":{"type":"integer","format":"int32"},"userId":{"type":"string"},"reportDate":{"type":"string","format":"date-time"},"occurDate":{"type":"string","format":"date-time"},"detail":{"type":"string"},"isCheck":{"type":"string"}}},"Pageable":{"type":"object","properties":{"page":{"minimum":0,"type":"integer","format":"int32"},"size":{"minimum":1,"type":"integer","format":"int32"},"sort":{"type":"array","items":{"type":"string"}}}},"PageReport":{"type":"object","properties":{"totalPages":{"type":"integer","format":"int32"},"totalElements":{"type":"integer","format":"int64"},"size":{"type":"integer","format":"int32"},"content":{"type":"array","items":{"$ref":"#/components/schemas/Report"}},"number":{"type":"integer","format":"int32"},"sort":{"$ref":"#/components/schemas/SortObject"},"first":{"type":"boolean"},"last":{"type":"boolean"},"numberOfElements":{"type":"integer","format":"int32"},"pageable":{"$ref":"#/components/schemas/PageableObject"},"empty":{"type":"boolean"}}},"PageableObject":{"type":"object","properties":{"offset":{"type":"integer","format":"int64"},"sort":{"$ref":"#/components/schemas/SortObject"},"pageSize":{"type":"integer","format":"int32"},"pageNumber":{"type":"integer","format":"int32"},"unpaged":{"type":"boolean"},"paged":{"type":"boolean"}}},"SortObject":{"type":"object","properties":{"empty":{"type":"boolean"},"sorted":{"type":"boolean"},"unsorted":{"type":"boolean"}}}}}}